<!DOCTYPE html>
<html>
<head>
  <title>User Posts</title>
</head>
  <body>
    <div class="user-details">
      <div class="user-header">
        <img src="<%= @user.photo %>" alt="User Photo" class="user-photo">
        <div class="user-info">
          <div class="user-box">
            <h2><%= @user.name %></h2>
            <p>Number of Posts: <%= @user.posts_counter %></p>
          </div>
        </div>
      </div>
    </div>
    <div class="user-posts">
      <% @posts.each do |post| %>
        <div class="post-box">
          <a class="post-title label-link" href="<%= user_post_path(@user, post) %> "><%= post.title %></a>
          <p><%= post.text %></p>
          <div class='comments-likes-count'>
            <p>Comments: <%= post.comments_counter %>  |  Likes: <%= post.likes_counter %></p>
          </div>
          <div class='comments-box'>
            <div class= 'recent-comments-header'>
              <h4 class='comments-list-title'>Recent Comments</h4>
              <div class='see-all-comments-button'>
                <a class= 'btn btn-primary' href="<%= user_post_path(@user, post) %>">Details</a>
              </div>
            </div>
            <ul class="comments-list">
              <% post.recent_comments.each do |comment| %>
                <li class="comment-item">
                  <div class="comment-info">
                    <p><span class='comment-author-name'><%= comment.author.name %></span>: <%= comment.text %></p>
                  </div>
                </li>
              <% end %>
            </ul>
          </div>
        </div>
      <% end %>
    </div>    
  </body>
</html>
